<!doctype html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>تسجيل الدخول — IncByteLogic</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>
  <body class="login-page">
    <div class="login-card">
      <img src="logo.svg" alt="logo" class="logo-sm" />
      <h2>تسجيل الدخول</h2>
      <form id="loginForm">
        <input name="email" placeholder="البريد الإلكتروني" required />
        <input name="password" type="password" placeholder="كلمة المرور" required />
        <button type="submit">دخول</button>
      </form>
      <p class="hint">الدخول تجريبي. بريد: <strong>demo@incbytelogic.local</strong> — كلمة: <strong>DemoPass123</strong></p>
      <a href="index.html">العودة للرئيسية</a>
    </div>

    <script>
      // Initialize database
      function initDB() {
        const users = [{ id: 1, email: 'demo@incbytelogic.local', password: 'DemoPass123' }];
        if (!localStorage.getItem('users')) {
          localStorage.setItem('users', JSON.stringify(users));
        }
      }
      initDB();

      // Login handler
      document.getElementById('loginForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const form = e.target;
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        const user = users.find(u => u.email === form.email.value && u.password === form.password.value);
        
        if (user) {
          alert('✓ تم الدخول بنجاح!\nمرحباً ' + user.email);
          localStorage.setItem('loggedInUser', JSON.stringify(user));
          setTimeout(() => window.location.href = 'index.html', 500);
        } else {
          alert('❌ بيانات خاطئة!\nجرب: demo@incbytelogic.local / DemoPass123');
        }
      });
    </script>
  </body>
</html>
